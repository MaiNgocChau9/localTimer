import {
  getBuiltinModule,
  node_adapter_default
} from "./chunk-GOT3GVLG.js";

// src/cubing/vendor/apache/comlink-everywhere/inside/index.ts
import { expose as comlinkExpose } from "comlink";
var useNodeWorkarounds = typeof globalThis.Worker === "undefined" && typeof globalThis.WorkerNavigator === "undefined";
async function nodeEndpointPort() {
  const { parentPort } = await getBuiltinModule("node:worker_threads");
  return node_adapter_default(
    parentPort
  );
}
function expose(api) {
  if (useNodeWorkarounds) {
    (async () => {
      comlinkExpose(api, await nodeEndpointPort());
    })();
  } else {
    comlinkExpose(api);
  }
}

export {
  nodeEndpointPort,
  expose
};
//# sourceMappingURL=chunk-YUHH4EXE.js.map
